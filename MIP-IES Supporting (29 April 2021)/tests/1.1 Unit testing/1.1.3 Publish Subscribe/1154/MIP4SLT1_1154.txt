Test description

Test IDMIP4SLT1_1154Test TitleNotify consumer with single subscriptionExecution Priority1ObjectiveThe objective is for the Producer to notify the Consumer of updates to the Current Situation according to the filtering criteria provided on a single subscription.ScenarioThe Consumer receives notifications from the Producer matching the current subscription. Test to be derived on multiple kinds of subscriptions (topic, geographical filter, sources) and shapes.EnvironmentInternet or Co-located. Exchange Pattern: P/S.Participation2 MTRSN/APre-test ConditionsMIP4.0_Publish_Subscribe_Exchange_Pattern, MIP4SLT1_1130, MIP4SLT1_1131.
 
Both Consumer and Producer systems conform to MIP4.0 Publish/Subscribe Exchange Pattern Specification.
Both Consumer and Producer are able to process and exchange information represented according to MIP4.0 Information Schemas.
Consumer successfully discovered the target Producer.  The system on the Consumer side has been properly configured and is ready to interact with the Producer system.
Test InputsN/A.ConclusionThe test is concluded after the Consumer receives notifications published to a given topic / geographical / source filter, from the Producer.Test OutputsN/A.TraceabilityREQ_EM_0008, REQ_EM_0010, REQ_SYS_0021, REQ_SYS_0016

Test Procedure

StepActionExpected ResultSrcDst1. The Consumer subscribes to the Producer in order to advertise its interest in a subset of the data space. ~~The Producer receives a valid request for resource properties ~~122. Producer sends the topics requested to the Consumer. ~~Consumer receives the requested topics. ~~213. The Consumer processes the list of exposed topics, prepares a filter set, and requests a subscription on a single topic to the Producer. ~~Producer receives a subscription request for a desired topic. ~~124. Producer accepts the subscription request.

Producer checks subscription filters and determines if data matches specified filters.  If it does, the Producer sends a wsn-b:Notify to the address specified in the wsn-b:ConsumerReference for EACH matching subscription. ~~The Producer sends notification to the Consumer.

The Consumer processes the data contained in the messages. ~~215. Consumer unsubscribes using wsn-b:Unsubscribe operation with the SubscriptionReference issued from the initial Subscribe responses. ~~Producer destroys the corresponding subscriptions. ~~126. Repeat steps 1 to 5 for geographical, source and / or any other kind of subscription filter that should be tested. ~~Corresponding results in 1 to 5 for geographical, source and / or any other kind of subscription filter. ~~
Configuration
ItemValueCommentEventGeneration10 --> Combine steps to one event in the MTMT, generate new MTMT events on every source - destination change.
1 --> Every step will be added to the MTMT as a separate event.



2



					          


1

